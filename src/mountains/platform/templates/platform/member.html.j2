{% from "platform/_profile.html.j2" import profile_picture, badge %}
{% extends "platform/base.html.j2" %}
{% block platform %}
  {% if g.current_user.is_site_admin %}
    <aside class="admin">
      <details>
        <summary>Admin</summary>
        <form>
          <input type="submit" value="Toggle something" />
          <input type="submit" value="Toggle something else" />
        </form>
        <span>Email: {{ user.email }}</span>
      </details>
    </aside>
  {% endif %}
  <figure class="float-right">
    {{ profile_picture(user, "256") }}
  </figure>
  <hgroup>
    <h1>{{ user.full_name }}</h1>
    {% if g.current_user.id == user.id %}
      <a href="{{ url_for('platform.edit_member', id=user.id) }}">Edit Profile</a>
    {% endif %}
    <p>
      <mark>{{ user.mobile }}</mark> Discord
    </p>
  </hgroup>
  {% if user.is_committee %}{{ badge("committee") }}{% endif %}
  {% if user.is_coordinator %}{{ badge("coordinator") }}{% endif %}
  {% if user.is_member %}
    {{ badge("member") }}
    <small>Membership expires: {{ user.membership_expiry_utc.strftime("%Y-%m-%d") }}</small>
  {% endif %}
  <hgroup>
    <h2>About</h2>
    {% if user.about %}
      {{ user.about | markdown | safe }}
    {% else %}
      <em>No bio found!</em>
    {% endif %}
  </hgroup>
  <hgroup>
    <h2>Attended Events</h2>
    <ul>
      <li>Activity placeholder</li>
    </ul>
  </hgroup>
{% endblock platform %}
