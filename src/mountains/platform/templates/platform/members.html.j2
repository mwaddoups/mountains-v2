{% from "platform/_profile.html.j2" import profile_picture %}
{% extends "platform/base.html.j2" %}
{% block platform %}
  <form>
    <input type="search"
           name="search"
           placeholder="Enter name to search..."
           value="{{ search if search else '' }}" />
  </form>
  <section id="members">
    {% for member in members[:limit] %}
      <a href="{{ url_for('platform.member', id=member.id) }}">
        <article>
          {{ profile_picture(member, "128") }}
          <h2>{{ member.full_name }}</h2>
          {% if member.is_committee %}
            <h6>Committee</h6>
          {% elif member.is_coordinator %}
            <h6>Coordinator</h6>
          {% elif member.is_member %}
            <h6>Member</h6>
          {% else %}
            <h6>Guest</h6>
          {% endif %}
        </article>
      </a>
    {% else %}
      <em>No users found!</em>
    {% endfor %}
  </section>
  {% if (members | length) > limit %}
    <form>
      <input type="hidden" name="limit" value="{{ limit * 10 }}" />
      <input type="submit"
             value="Show more (showing {{ limit }} / {{ members | length }})">
    </form>
  {% endif %}
{% endblock platform %}
